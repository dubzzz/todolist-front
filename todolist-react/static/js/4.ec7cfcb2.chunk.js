(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{132:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return m}),n.d(t,"c",function(){return p});var a,r=n(57),o=n(134),i=n(135),c=n(28),u=n(0),d=n.n(u),l=n(21);!function(e){e.Noop="noop",e.Add="add",e.Edit="edit",e.Remove="remove"}(a||(a={}));var s={},f=Object(u.createContext)(s);function m(e){var t=Object(u.useState)(!1),n=Object(c.a)(t,2),s=n[0],m=n[1],p=Object(u.useState)([]),g=Object(c.a)(p,2),b=g[0],E=g[1];Object(u.useEffect)(function(){var e=l.b(function(e){m(!0),E(function(t){var n=t.filter(function(e){return e.state===a.Add}).reduce(function(e,t){return Object(i.a)({},e,Object(o.a)({},t.data.guid,t.data))},{}),r=t.filter(function(e){return e.state===a.Edit}).reduce(function(e,t){return Object(i.a)({},e,Object(o.a)({},t.data.guid,t.data))},{}),c=t.filter(function(e){return e.state===a.Remove}).reduce(function(e,t){return Object(i.a)({},e,Object(o.a)({},t.data.guid,t.data))},{});return e.filter(function(e){return void 0===n[e.guid]}).map(function(e){return r[e.guid]?{state:a.Edit,data:r[e.guid]}:c[e.guid]?{state:a.Remove,data:c[e.guid]}:{state:a.Noop,data:e}}).concat(t.filter(function(e){return e.state===a.Add}))})});return function(){return l.i(e)}},[]);return d.a.createElement(f.Provider,Object.assign({value:{ready:s,todos:b,addTodo:function(e){var t=Math.random().toString(16).substr(2),n={guid:t,task:e,done:!1};E(function(e){return[].concat(Object(r.a)(e),[{state:a.Add,data:n}])}),l.a(n).then(function(e){e?E(function(e){return e.map(function(e){return e.data.guid===t?{state:a.Noop,data:n}:e})}):(console.error("Failed to add todo:",n),E(function(e){return e.filter(function(e){return e.data.guid!==t})}))})},toggleTodo:function(e){var t=b.find(function(t){return t.data.guid===e&&t.state===a.Noop});if(!t)throw new Error("No todo available for modification given guid ".concat(e));var n=Object(i.a)({},t.data,{done:!t.data.done});E(function(t){return t.map(function(t){return t.data.guid===e?{state:a.Edit,data:n}:t})}),l.e(n).then(function(r){r?E(function(t){return t.map(function(t){return t.data.guid===e?{state:a.Noop,data:n}:t})}):(console.error("Failed to edit todo:",n),E(function(n){return n.map(function(n){return n.data.guid===e?t:n})}))})},removeTodo:function(e){var t=b.find(function(t){return t.data.guid===e&&t.state===a.Noop});if(!t)throw new Error("No todo available for modification given guid ".concat(e));E(function(n){return n.map(function(n){return n.data.guid===e?{state:a.Remove,data:t.data}:n})}),l.h(t.data).then(function(n){n?E(function(t){return t.filter(function(t){return t.data.guid!==e})}):(console.error("Failed to remove todo:",t.data),E(function(n){return n.map(function(n){return n.data.guid===e?t:n})}))})}}},e))}function p(){var e=Object(u.useContext)(f);if(e===s)throw new Error("useTodoList must be used within a TodoListProvider");return e}},173:function(e,t,n){"use strict";n.r(t);var a=n(28),r=n(0),o=n.n(r),i=n(118),c=n(168),u=n(3),d=n(16),l=n(160),s=n(161),f=n(122),m=n(138),p=n.n(m),g=n(139),b=n.n(g),E=n(162),h=n(136),v=n.n(h),w=n(132),O=n(163),j=Object(i.a)(function(e){return{appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButtonHidden:{display:"none"},title:{flexGrow:1}}});function x(e){var t=j(),n=Object(d.c)(),a=n.username,r=n.logout,i=Object(w.c)(),c=i.ready,m=i.todos;return o.a.createElement(l.a,{position:"absolute",className:Object(u.a)(t.appBar,e.drawerOpened&&t.appBarShift)},o.a.createElement(s.a,null,o.a.createElement(E.a,{edge:"start",color:"inherit","aria-label":"Toggle drawer",onClick:function(){return e.toggleDrawer()},className:Object(u.a)(e.drawerOpened&&t.menuButtonHidden)},o.a.createElement(v.a,null)),o.a.createElement(f.a,{variant:"h6",className:t.title},"Welcome ",a),o.a.createElement(E.a,null,o.a.createElement(O.a,{badgeContent:c?"".concat(m.filter(function(e){return e.state!==w.b.Remove}).length):"?",color:"primary"},o.a.createElement(p.a,null))),o.a.createElement(E.a,{onClick:function(){r()}},o.a.createElement(b.a,null))))}var N=n(134),y=n(135),S=n(141),C=n.n(S),k=n(142),B=n.n(k),T=n(143),P=n.n(T),z=n(172),I=n(164),L=n(125),R=n(165),A=n(166),D=n(167),F=n(174),G=n(26),H=Object(i.a)(function(e){return{toolbarIcon:Object(y.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(N.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)})}});var J=Object(G.g)(function(e){var t=H(),n=function(t){return e.drawerOpened?o.a.createElement(o.a.Fragment,null,t.children):o.a.createElement(F.a,{title:t.title,placement:"right"},t.children)};return o.a.createElement(z.a,{variant:"permanent",classes:{paper:Object(u.a)(t.drawerPaper,!e.drawerOpened&&t.drawerPaperClose)},open:e.drawerOpened},o.a.createElement("div",{className:t.toolbarIcon},o.a.createElement(E.a,{onClick:function(){return e.toggleDrawer()}},o.a.createElement(C.a,null))),o.a.createElement(I.a,null),o.a.createElement(L.a,null,o.a.createElement(n,{title:"Todos"},o.a.createElement(R.a,{button:!0,onClick:function(){return e.history.push("/")}},o.a.createElement(A.a,null,o.a.createElement(B.a,null)),o.a.createElement(D.a,{primary:"Todos"}))),o.a.createElement(n,{title:"Learn more"},o.a.createElement(R.a,{button:!0,onClick:function(){return e.history.push("/learn-more")}},o.a.createElement(A.a,null,o.a.createElement(P.a,null)),o.a.createElement(D.a,{primary:"Learn more"})))))});n.d(t,"default",function(){return K});var M=o.a.lazy(function(){return n.e(6).then(n.bind(null,169))}),W=o.a.lazy(function(){return n.e(5).then(n.bind(null,171))}),X=o.a.lazy(function(){return n.e(7).then(n.bind(null,170))}),q=Object(i.a)(function(e){return{root:{display:"flex"},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,overflow:"auto",height:"100vh",padding:"2em"}}});function K(e){var t=q(),n=Object(r.useState)(!1),i=Object(a.a)(n,2),u=i[0],d=i[1];return o.a.createElement("div",{className:t.root},o.a.createElement(w.a,null,o.a.createElement(c.a,null),o.a.createElement(x,{drawerOpened:u,toggleDrawer:function(){return d(function(e){return!e})}}),o.a.createElement(J,{drawerOpened:u,toggleDrawer:function(){return d(function(e){return!e})}}),o.a.createElement("main",{className:t.content},o.a.createElement("div",{className:t.appBarSpacer}),o.a.createElement(G.d,null,o.a.createElement(G.b,{exact:!0,path:"/",component:W}),o.a.createElement(G.b,{exact:!0,path:"/learn-more",component:M}),o.a.createElement(G.b,{component:X})))))}}}]);
//# sourceMappingURL=4.ec7cfcb2.chunk.js.map