{"version":3,"sources":["context/TodoListContext.tsx","component/list/TodoItem.tsx","component/list/TodoList.tsx","component/PageLayout.tsx","component/list/ListPage.tsx"],"names":["TodoState","defaultTodoList","TodoListContext","createContext","TodoListProvider","props","_useState","useState","_useState2","Object","slicedToArray","ready","setReady","_useState3","_useState4","todos","setTodos","useEffect","handle","Api","newTodos","ts","todosBeingAdded","filter","t","state","Add","reduce","acc","objectSpread","defineProperty","data","guid","todosBeingEdited","Edit","todosBeingRemoved","Remove","undefined","map","Noop","concat","react_default","a","createElement","Provider","assign","value","addTodo","task","Math","random","toString","substr","todo","done","toConsumableArray","then","r","console","error","toggleTodo","prevTodo","find","Error","removeTodo","useTodoList","context","useContext","useStyles","makeStyles","theme","paper","padding","spacing","margin","TodoItem","classes","disabled","Paper","className","Checkbox","checked","onChange","toggle","inputProps","aria-label","style","textDecoration","color","CircularProgress","visibility","size","IconButton","float","onClick","remove","Delete_default","TodoList","_useTodoList","newTodo","setNewTodo","TextField","label","p","currentTarget","onKeyPress","ev","which","preventDefault","Button","key","root","flexGrow","menuButton","marginRight","title","content","height","overflow","PageLayout","_useAuthentification","useAuthentification","username","logout","CssBaseline","AppBar","position","Toolbar","Typography","variant","Badge","badgeContent","length","ShoppingCart_default","PowerSettingsNew_default","children","ListPage","__webpack_require__","d","__webpack_exports__"],"mappings":"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","file":"static/js/4.2eb08d23.chunk.js","sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\r\nimport * as Api from '../api';\r\n\r\nexport enum TodoState {\r\n  Noop = 'noop',\r\n  Add = 'add',\r\n  Edit = 'edit',\r\n  Remove = 'remove'\r\n}\r\nexport type TodoType = {\r\n  data: Api.Todo;\r\n  state: TodoState;\r\n};\r\nexport type TodoListContextType = {\r\n  ready: boolean;\r\n  todos: TodoType[];\r\n  addTodo: (task: string) => void;\r\n  toggleTodo: (guid: string) => void;\r\n  removeTodo: (guid: string) => void;\r\n};\r\n\r\nconst defaultTodoList = {} as TodoListContextType;\r\nconst TodoListContext = createContext(defaultTodoList);\r\n\r\nexport function TodoListProvider<TProps>(props: TProps) {\r\n  const [ready, setReady] = useState(false);\r\n  const [todos, setTodos] = useState([] as TodoType[]);\r\n\r\n  useEffect(() => {\r\n    const listener = (newTodos: Api.Todo[]) => {\r\n      setReady(true);\r\n      setTodos(ts => {\r\n        const todosBeingAdded: { [guid: string]: Api.Todo } = ts\r\n          .filter(t => t.state === TodoState.Add)\r\n          .reduce((acc, t) => ({ ...acc, [t.data.guid]: t.data }), {});\r\n        const todosBeingEdited: { [guid: string]: Api.Todo } = ts\r\n          .filter(t => t.state === TodoState.Edit)\r\n          .reduce((acc, t) => ({ ...acc, [t.data.guid]: t.data }), {});\r\n        const todosBeingRemoved: { [guid: string]: Api.Todo } = ts\r\n          .filter(t => t.state === TodoState.Remove)\r\n          .reduce((acc, t) => ({ ...acc, [t.data.guid]: t.data }), {});\r\n\r\n        return newTodos\r\n          .filter(t => todosBeingAdded[t.guid] === undefined)\r\n          .map(t => {\r\n            // Remove, Edit and Noop\r\n            if (todosBeingEdited[t.guid]) return { state: TodoState.Edit, data: todosBeingEdited[t.guid] };\r\n            if (todosBeingRemoved[t.guid]) return { state: TodoState.Remove, data: todosBeingRemoved[t.guid] };\r\n            return { state: TodoState.Noop, data: t };\r\n          })\r\n          .concat(ts.filter(t => t.state === TodoState.Add)); // Add\r\n      });\r\n    };\r\n    const handle = Api.addTodoListener(listener);\r\n    return () => Api.removeTodoListener(handle);\r\n  }, []);\r\n\r\n  const addTodo = (task: string) => {\r\n    const guid = Math.random()\r\n      .toString(16)\r\n      .substr(2);\r\n    const todo = { guid, task, done: false };\r\n\r\n    setTodos(ts => [...ts, { state: TodoState.Add, data: todo }]);\r\n    Api.addTodo(todo).then(r => {\r\n      if (!r) {\r\n        console.error('Failed to add todo:', todo);\r\n        setTodos(ts => ts.filter(t => t.data.guid !== guid));\r\n      } else {\r\n        // We apply the modification\r\n        setTodos(ts => ts.map(t => (t.data.guid === guid ? { state: TodoState.Noop, data: todo } : t)));\r\n      }\r\n    });\r\n  };\r\n\r\n  const toggleTodo = (guid: string) => {\r\n    const prevTodo = todos.find(t => t.data.guid === guid && t.state === TodoState.Noop);\r\n    if (!prevTodo) throw new Error(`No todo available for modification given guid ${guid}`);\r\n\r\n    const todo = { ...prevTodo.data, done: !prevTodo.data.done };\r\n\r\n    setTodos(ts => ts.map(t => (t.data.guid === guid ? { state: TodoState.Edit, data: todo } : t)));\r\n    Api.editTodo(todo).then(r => {\r\n      if (!r) {\r\n        console.error('Failed to edit todo:', todo);\r\n        setTodos(ts => ts.map(t => (t.data.guid === guid ? prevTodo : t)));\r\n      } else {\r\n        // We apply the modification\r\n        setTodos(ts => ts.map(t => (t.data.guid === guid ? { state: TodoState.Noop, data: todo } : t)));\r\n      }\r\n    });\r\n  };\r\n\r\n  const removeTodo = (guid: string) => {\r\n    const prevTodo = todos.find(t => t.data.guid === guid && t.state === TodoState.Noop);\r\n    if (!prevTodo) throw new Error(`No todo available for modification given guid ${guid}`);\r\n\r\n    setTodos(ts => ts.map(t => (t.data.guid === guid ? { state: TodoState.Remove, data: prevTodo.data } : t)));\r\n    Api.removeTodo(prevTodo.data).then(r => {\r\n      if (!r) {\r\n        console.error('Failed to remove todo:', prevTodo.data);\r\n        setTodos(ts => ts.map(t => (t.data.guid === guid ? prevTodo : t)));\r\n      } else {\r\n        // We apply the modification\r\n        setTodos(ts => ts.filter(t => t.data.guid !== guid));\r\n      }\r\n    });\r\n  };\r\n\r\n  return <TodoListContext.Provider value={{ ready, todos, addTodo, toggleTodo, removeTodo }} {...props} />;\r\n}\r\n\r\nexport function useTodoList() {\r\n  const context = useContext(TodoListContext);\r\n  if (context === defaultTodoList) {\r\n    throw new Error(`useTodoList must be used within a TodoListProvider`);\r\n  }\r\n  return context;\r\n}\r\n","import React from 'react';\r\nimport { TodoType, TodoState } from '../../context/TodoListContext';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  paper: { padding: theme.spacing(2), margin: 'auto' }\r\n}));\r\n\r\ntype Props = { todo: TodoType; toggle: () => void; remove: () => void };\r\n\r\nexport default function TodoItem(props: Props) {\r\n  const classes = useStyles();\r\n  const disabled = props.todo.state !== TodoState.Noop;\r\n\r\n  return (\r\n    <Paper className={classes.paper}>\r\n      <Checkbox\r\n        disabled={disabled}\r\n        checked={props.todo.data.done}\r\n        onChange={() => props.toggle()}\r\n        inputProps={{\r\n          'aria-label': 'primary checkbox'\r\n        }}\r\n      />\r\n      <span\r\n        style={{\r\n          textDecoration: props.todo.state === TodoState.Remove ? 'line-through' : 'none',\r\n          color: disabled ? 'grey' : 'black'\r\n        }}\r\n      >\r\n        {props.todo.data.task}\r\n      </span>\r\n      <CircularProgress\r\n        style={{ margin: '1em', visibility: props.todo.state === TodoState.Noop ? 'hidden' : 'visible' }}\r\n        size={12}\r\n      />\r\n      <IconButton style={{ float: 'right' }} aria-label=\"delete\" disabled={disabled} onClick={() => props.remove()}>\r\n        <DeleteIcon />\r\n      </IconButton>\r\n    </Paper>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport { useTodoList } from '../../context/TodoListContext';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport TodoItem from './TodoItem';\r\nimport Button from '@material-ui/core/Button';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\ntype Props = {};\r\n\r\nexport default function TodoList(props: Props) {\r\n  const { ready, todos, addTodo, toggleTodo, removeTodo } = useTodoList();\r\n  const [newTodo, setNewTodo] = useState('');\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        <TextField\r\n          label=\"Add a new todo\"\r\n          value={newTodo}\r\n          onChange={p => setNewTodo(p.currentTarget.value)}\r\n          onKeyPress={ev => {\r\n            if (ev.which === 13 && newTodo !== '') {\r\n              addTodo(newTodo);\r\n              setNewTodo('');\r\n              ev.preventDefault();\r\n            }\r\n          }}\r\n        />\r\n        <Button\r\n          disabled={newTodo === ''}\r\n          onClick={() => {\r\n            addTodo(newTodo);\r\n            setNewTodo('');\r\n          }}\r\n        >\r\n          Add\r\n        </Button>\r\n      </div>\r\n      {ready ? (\r\n        <div>\r\n          {todos.map(t => (\r\n            <TodoItem\r\n              key={t.data.guid}\r\n              todo={t}\r\n              toggle={() => toggleTodo(t.data.guid)}\r\n              remove={() => removeTodo(t.data.guid)}\r\n            />\r\n          ))}\r\n        </div>\r\n      ) : (\r\n        <CircularProgress />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { useAuthentification } from '../context/AuthentificationContext';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\r\nimport PowerSettingsNewIcon from '@material-ui/icons/PowerSettingsNew';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport { useTodoList } from '../context/TodoListContext';\r\nimport Badge from '@material-ui/core/Badge';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2)\r\n  },\r\n  title: {\r\n    flexGrow: 1\r\n  },\r\n  content: {\r\n    flexGrow: 1,\r\n    height: '100vh',\r\n    overflow: 'auto',\r\n    padding: '2em'\r\n  }\r\n}));\r\n\r\ntype Props = { children: JSX.Element | JSX.Element[] };\r\n\r\nexport default function PageLayout(props: Props) {\r\n  const classes = useStyles();\r\n  const { username, logout } = useAuthentification();\r\n  const { ready, todos } = useTodoList();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <CssBaseline />\r\n      <AppBar position=\"static\">\r\n        <Toolbar>\r\n          <Typography variant=\"h6\" className={classes.title}>\r\n            Welcome {username}\r\n          </Typography>\r\n          <IconButton>\r\n            <Badge badgeContent={ready ? `${todos.length}` : '?'} color=\"primary\">\r\n              <ShoppingCartIcon />\r\n            </Badge>\r\n          </IconButton>\r\n          <IconButton\r\n            onClick={() => {\r\n              logout();\r\n            }}\r\n          >\r\n            <PowerSettingsNewIcon />\r\n          </IconButton>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <main className={classes.content}>{props.children}</main>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport TodoList from './TodoList';\r\nimport { TodoListProvider } from '../../context/TodoListContext';\r\nimport PageLayout from '../PageLayout';\r\n\r\ntype Props = {};\r\n\r\nexport default function ListPage(props: Props) {\r\n  return (\r\n    <TodoListProvider>\r\n      <PageLayout>\r\n        <TodoList />\r\n      </PageLayout>\r\n    </TodoListProvider>\r\n  );\r\n}\r\n"],"sourceRoot":""}